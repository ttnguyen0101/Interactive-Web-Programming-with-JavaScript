<!DOCTYPE html>
<html>
    <head>
        <title>IT 2320 Lab 9 Ajax & JSON</title>
        <script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
        <script>
            "use script"
            /*window.onload = function() {
                $("#go").click(function() {
                    //api key: b5057ba16fd58dd6b1d64a21eee61191
                    var zip = $("#zip").val();
                    var url = "https://api.openweathermap.org/data/2.5/weather?zip="+zip+",us&appid=b5057ba16fd58dd6b1d64a21eee61191&units=imperial";
                    console.log(url);
                    $.ajax({
                        method: "GET",
                        url: url,
                        dataType: "json"
                    }).done(function (weatherResponse) {
                        $("#city").html("City: " + weatherResponse.name);
                        $("#condition").html("Condition: " + weatherResponse.weather[0].main);
                        $("#temp").html("Temperature: " + weatherResponse.main.temp);
                        $("#wind").html("Wind Speed and Direction: " + weatherResponse.wind.speed);
                        $("#humid").html("Humidity: " + weatherResponse.main.humidity);
                        $("#tempMixMax").html("Temp Min and Max: " + weatherResponse.main.temp_min + ", " + weatherResponse.main.temp_max);
                    });
                });
            };*/

        </script>
    </head>
    <body>
        <h2>Thu T Nguyen - IT 2320 - Lab 9 Weather APIs</h2>
        <span>Insert Zip Code: <input type="text" id="zip"><button id="go">GO</button></span><br>
        <span id="city">City: </span><br>
        <span id="condition">Current Condition: </span><br>
        <span id="temp">Temperature: </span><br>
        <span id="wind">Wind Speed and Direction: </span><br>
        <span id="humid">Humidity: </span><br>
        <span id="tempMixMax">Temp Min and Max: </span>
    </body>
    <script>
        $("#go").click(function() {
            //api key: b5057ba16fd58dd6b1d64a21eee61191
            var zip = $("#zip").val();
            var url = "https://api.openweathermap.org/data/2.5/weather?zip="+zip+",us&appid=b5057ba16fd58dd6b1d64a21eee61191&units=imperial";
            console.log(url);
            $.ajax({
                method: "GET",
                url: url,
                dataType: "json"
            }).done(function (weatherResponse) {
                $("#city").html("City: " + weatherResponse.name);
                $("#condition").html("Condition: " + weatherResponse.weather[0].main);
                $("#temp").html("Temperature: " + weatherResponse.main.temp);
                $("#wind").html("Wind Speed and Direction: " + weatherResponse.wind.speed);
                $("#humid").html("Humidity: " + weatherResponse.main.humidity);
                $("#tempMixMax").html("Temp Min and Max: " + weatherResponse.main.temp_min + ", " + weatherResponse.main.temp_max);
            });
        });
    </script>
</html>